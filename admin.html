<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tracker</title>

  <link id="favicon" rel="icon" href="data:image/svg+xml,
  <svg xmlns='http://www.w3.org/2000/svg'viewBox='0 0 24 24'>
    <rect x='3' y='3' width='7' height='7' fill='white'></rect>
    <rect x='14' y='3' width='7' height='7' fill='white'></rect>
    <rect x='14' y='14' width='7' height='7' fill='white'></rect>
    <rect x='3' y='14' width='7' height='7' fill='white'></rect>
  </svg>">
  
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="admin.css">
  
</head>

<body>

  <aside class="side-menu">
    <div class="menu-header">

      <h1>Admin</h1>
      <nav class="top-nav-links">
        <a href="index.html">Dashboard</a> | <a href="admin.html">Logs</a>
      </nav>
    </div>
    
    <div class="menu-items">
      <button class="menu-btn" data-target="trackers">TRACKERS</button>
      <button class="menu-btn" data-target="reports">REPORTS</button>
      <button class="menu-btn" data-target="metrics">METRICS</button>
      <button class="menu-btn" data-target="appointments">APPOINTMENTS</button>
      <button class="menu-btn" data-target="bookers">BOOKERS</button>
      <button class="menu-btn" data-target="history">HISTORY</button>
      <button class="menu-btn active" data-target="logs">LOGS</button>
    </div>

    <hr class="nav-divider">

    <div class="manager-section">
      <h3>Managers</h3>
      <button id="addManagerBtn" class="secondary-btn">+ Add Manager</button>
      <input type="text" id="managerSearch" placeholder="Search managers..." />
      <div id="managerList"></div>
    </div>

    <div class="sidebar-footer">
    <button id="logoutBtn" class="btn-logout"><i class="fas fa-sign-out-alt"></i> Logout</button>
    </div>
  </aside>

  <!-- SIDE MENU BAR -->
  <main class="main-content">
    
    <header class="content-header">
      <h2 id="viewTitle">System Audit Logs</h2>
      <div class="actions">
        <button id="addColBtn">Add Column</button>
        <button id="exportBtn" class="admin-only">Download CSV</button>
      </div>
    </header>
    
    <section id="trackersView" class="dashboard-section" style="display: none;">
      <div class="admin-workspace">
          <button id="expandAddBtn" class="primary-btn">
              <i class="fas fa-plus"></i> Add New Manager Tracker
          </button>

          <div id="trackerExpansionPanel" class="expansion-panel">
              <div class="editor-row">
                  <input type="text" id="mgrNameInput" placeholder="Manager Name (e.g., Sarah J.)">
                  <button id="openSheetBtn" class="icon-btn" title="Open Spreadsheet" type="button">
                      <i class="fas fa-table"></i>
                  </button>
              </div>

              <div class="instruction-container">
                  <label>Instructions:</label>
                  <textarea id="mgrInstructionsInput" placeholder="Write specific daily tasks..."></textarea>
              </div>

              <div class="editor-footer">
                  <button id="cancelBtn" class="secondary-btn" type="button">Cancel</button>
                  <button id="finalizeTrackerBtn" class="save-btn" type="button">Push to Users</button>
              </div>
          </div>
      </div>
    </section>

    <section class="filters-container">
      <div class="filter-group">
        <label>Role:</label>
        <select id="roleFilter">
          <option value="">All Roles</option>
          <option value="admin">Admin</option>
          <option value="user">User</option>
        </select>
      </div>

      <div class="filter-group">
        <label>Disposition:</label>
        <select id="dispositionFilter">
          <option value="">All</option>
          <option value="Completed">Completed</option>
          <option value="Pending">Pending</option>
          <option value="Failed">Failed</option>
        </select>
      </div>

      <div class="filter-group">
        <label>Phone:</label>
        <input type="text" id="phoneFilter" placeholder="Filter by phone...">
      </div>

      <button id="clearFilters">Clear Filters</button>
    </section>

    <section id="tableWrapper">
      <table id="logsTable">
        <thead>
          <tr>
            <th>User</th>
            <th>Role</th>
            <th>Phone</th>
            <th>Disposition</th>
            <th>Edit History</th>
            <th>Timestamp</th>
          </tr>
        </thead>
        <tbody>
          </tbody>
      </table>
    </section>

  </main>
  <!-- END OF SIDE MENU BAR -->

  <div id="spreadsheetOverlay" class="sheet-modal">
    <div class="sheet-content">
        <div class="sheet-header">
            <h4 id="activeSheetTitle">Manager Sheet</h4>
            <button id="closeSheetBtn" type="button">&times;</button>
        </div>
        <div id="spreadsheetContainer"></div>
    </div>
  </div>

  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script type="module" src="admin.js"></script>
  <script type="module" src="main.js"></script>

</body>
</html>